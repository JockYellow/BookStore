{% extends "base.html" %}

{% block content %}
<div class="bg-white shadow rounded-lg p-6">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-bold text-gray-800">報表分析</h1>
    <button id="exportExcelBtn" class="btn btn-outline">匯出熱門商品 Excel</button>
  </div>

  <!-- 日期篩選 -->
  <div class="flex items-center gap-4 mb-6">
    <label class="form-label">起始日期</label>
    <input type="date" id="startDate" class="form-control" />
    <label class="form-label">結束日期</label>
    <input type="date" id="endDate" class="form-control" />
    <button id="filterBtn" class="btn btn-primary">查詢</button>
  </div>

  <!-- 圖表 -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-lg font-semibold mb-2">每日銷售額</h2>
      <div class="relative h-64">
        <canvas id="dailySalesChart" class="w-full h-full"></canvas>
      </div>
    </div>
    <div class="bg-white p-4 rounded shadow">
      <h2 class="text-lg font-semibold mb-2">分類銷售額</h2>
      <div class="relative h-64">
        <canvas id="categorySalesChart" class="w-full h-full"></canvas>
      </div>
    </div>
  </div>

  <!-- 熱銷商品 -->
  <div class="mt-6 bg-white p-4 rounded shadow">
    <h2 class="text-lg font-semibold mb-2">熱銷商品</h2>
    <table class="table">
      <thead>
        <tr>
          <th>商品</th>
          <th>銷售額</th>
        </tr>
      </thead>
      <tbody id="topProductsBody">
        <tr><td colspan="2" class="text-center py-4">載入中...</td></tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/reports.js"></script>
{% endblock %}

